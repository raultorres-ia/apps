<!doctype html>
<html lang="ca">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>El viatge de l'Eco</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="capcalera">
      <h1>El viatge de l'Eco</h1>
      <p class="subtitol">Sumem bons gestos per arribar a l'objectiu cooperatiu!</p>
    </header>

    <main class="contenidor">
      <!-- Zona de progrés cooperatiu -->
      <section class="progres" aria-labelledby="titol-progres">
        <h2 id="titol-progres" class="sr-only">Progrés cooperatiu del grup</h2>

        <div class="marcador" aria-live="polite" aria-atomic="true">
          Punts del grup: <span id="puntsActuals">0</span> / <span id="objectiuPunts">100</span>
        </div>

        <div class="via">
          <div class="via__barra">
            <div id="barraProgres" class="via__progres" style="width: 0%"></div>
          </div>
          <!-- Personatge: imatge de l'Eco que avança pel camí -->
          <div id="dragueta" class="dragueta" role="img" aria-label="Eco, el nostre guia">
            <img
              id="ecoImg"
              class="dragueta__img"
              src="https://github.com/raultorres-ia/apps/blob/main/gamificacio_eco/Eco.png?raw=1"
              alt=""
              decoding="async"
              referrerpolicy="no-referrer"
            />
          </div>
        </div>

        <p id="missatgeAnims" class="anims">Som-hi equip! Encara us queden 100 punts per arribar a l'objectiu, ànims!</p>
      </section>

      <!-- Zona de control per al docent -->
      <section class="control" aria-labelledby="titol-control">
        <h2 id="titol-control">Zona de control</h2>

        <label for="textLog" class="etiqueta">Explica breument l'acció (opcional)</label>
        <input id="textLog" class="input" type="text" maxlength="120" placeholder="Ex.: +1 per ajudar un company" />

        <div class="botonera">
          <button id="btnBo" class="btn btn--bo" type="button">Bon comportament (+1)</button>
          <button id="btnDolent" class="btn btn--dolent" type="button">Mal comportament (-1)</button>
        </div>
        <div id="darrerCanvi" class="darrer-canvi" aria-live="polite" aria-atomic="true"></div>

        <div class="canvi-manual">
          
          <div class="canvi-manual__fila">
            <label for="inputObjectiu" class="etiqueta">Objectiu de punts</label>
            <input id="inputObjectiu" class="input input--num" type="number" min="1" step="1" placeholder="Per defecte és 100" />
            <button id="btnCanviarObjectiu" class="btn" type="button">Aplica objectiu</button>
          </div>
          <small class="ajuda">Per defecte és 100. Posar una altra quantitat.</small>
        </div>

        <div class="registre" aria-labelledby="titol-registre">
          <h3 id="titol-registre">Registre d'aquesta partida</h3>
          <div class="registre__badges">
            <span class="badge badge--positiu">Positius: <strong id="countPositius">0</strong></span>
            <span class="badge badge--negatiu">Negatius: <strong id="countNegatius">0</strong></span>
          </div>
        </div>

        <div class="ajustos">
          <h3>Text de la recompensa cooperativa</h3>
          <textarea id="recompensaText" class="textarea" rows="3" placeholder="Descobreix més coses de l'Eco"></textarea>
          <button id="btnDesarAjustos" class="btn" type="button">Desa la recompensa</button>
        </div>

      </section>

      <!-- Narrativa -->
      <section class="objectius" aria-labelledby="titol-narrativa">
        <h2 id="titol-narrativa">Narrativa</h2>
        <p>
          A partir d’ara, cada vegada que la classe tingui bons comportaments, descobrirem un nou secret
          sobre la vida de l’Eco, el nostre guia a les classes de TGP.
        </p>
        <p>
          L’Eco és molt especial, i només ens explicarà coses de la seva història quan vegi que treballem
          bé, que ens respectem i que ens ajudem.
        </p>
        <p>
          Cada bona acció farà que aparegui una pista nova: pot ser un objecte misteriós, una part del seu
          passat, un lloc on ha viscut o alguna cosa que li agrada molt. Com més bé ens portem, més aprendrem
          sobre ell i més avançarà la nostra aventura.
        </p>
        <p>
          Treballarem tots junts, com un equip, perquè només si ens esforcem i col·laborem podrem descobrir
          tots els secrets de l’Eco.
        </p>
        <p>
          I recordeu: cada detall que descobrim és gràcies a vosaltres i al bon clima que creeu a l’aula!
        </p>
      </section>
    </main>

    <div class="reiniciar">
      <button id="btnReiniciar" class="btn btn--reiniciar" type="button">Reinicia el marcador</button>
    </div>

    <!-- Modal de celebració -->
    <div id="modal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="modalTitol" aria-describedby="modalText">
      <div class="modal__contingut">
        <h2 id="modalTitol">Ho heu aconseguit! 🎉</h2>
        <p id="modalText">
          Gràcies al vostre bon comportament i treball en equip, l'Eco ha arribat a l'objectiu cooperatiu!
        </p>
        <p id="modalRecompensa" class="modal__recompensa"></p>
        <button id="tancarModal" class="btn" type="button">Continuem!</button>
      </div>
      <div class="modal__fons" tabindex="-1"></div>
    </div>

            <footer class="peu" role="contentinfo">
      <div>
        Aplicació creada per
        <a href="https://raultorres-ia.github.io/apps/gamificacio_eco/index.html" target="_blank" rel="noopener">Raül Torres</a>
      </div>
      <div>
        Llicència del codi: <a href="LICENSE.txt">AGPL v3</a> · Contingut: <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="license noopener">CC BY-SA 4.0</a>
        <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="license noopener" aria-label="CC BY-SA 4.0">
          <img src="https://licensebuttons.net/l/by-sa/4.0/88x31.png" alt="CC BY-SA 4.0" style="vertical-align: middle; margin-left: 6px; border: 0;" />
        </a>
      </div>
    </footer>

    <script src="script.js"></script>
  </body>
  </html>


